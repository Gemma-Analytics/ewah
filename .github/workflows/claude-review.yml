name: Claude Code Review

on:
  pull_request:
    types: [opened, synchronize]

permissions:
  id-token: write
  contents: read
  pull-requests: write
  issues: write

jobs:
  review:
    uses: Gemma-Analytics/.github/.github/workflows/claude.yml@main
    with:
      prompt: |
        /review
        Additionally, check for compliance with CLAUDE.md, EWAH_ARCHITECTURE.md, and the version constraints (Airflow 2.3.x, Python 3.10).
      max_turns: "5"
    secrets: inherit
