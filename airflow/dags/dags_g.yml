---

base_config: # applied to all DAGs unless overwritten
  dwh_engine: postgres
  dwh_conn_id: dwh
  airflow_conn_id: airflow
  start_date: 2020-10-01 00:00:00+00:00
  schedule_interval: !!python/object/apply:datetime.timedelta
    - 1 # days
    - 0 # seconds
  schedule_interval_backfill: !!python/object/apply:datetime.timedelta
    - 7
  schedule_interval_future: !!python/object/apply:datetime.timedelta
    - 0
    - 28800
  # For fullcremental loads
  schedule_interval_full_refresh: !!python/object/apply:datetime.timedelta
    - 1 # days
    - 0 # seconds
  schedule_interval_incremental: !!python/object/apply:datetime.timedelta
    - 0 # days
    - 28800 # seconds
  read_right_users:
    - i_dont_exist
  additional_task_args:
    retries: 1
    retry_delay: !!python/object/apply:datetime.timedelta
      - 0
      - 30
    email_on_retry: False
    email_on_failure: False
    # email: ['me+ewahairflowerror@mail.com']

el_dags:
  EL_FX:
    dag_strategy: full refresh
    el_operator: fx
    target_schema_name: raw_fx
    operator_config:
      general_config:
        frequency: daily
        load_data_from: 2016-12-01 00:00:00+00:00 # tbd airflow 2.0 issue
      tables:
        {% for currency in currencies %}
          daily_fx_rates_usd_{{ currency|lower() }}:
            currency_pair:
              - USD
              - {{ currency|upper() }}
        {% endfor %}
...
